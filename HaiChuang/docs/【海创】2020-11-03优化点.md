# 优化

#### 等待验证

- 加载首页时增加一个正在登录的提示弹窗。

![image-20201103001824833](C:\Users\gmh\AppData\Roaming\Typora\typora-user-images\image-20201103001824833.png)

- 具体实现：

    ​	等login方法结束后根据回传值再进行下一步。

    ​	返回success:表示用户已经注册

    ​	返回failed：表示用户未注册

    ​	后续操作参考登录需求

- 问题： 当前页面验证用户信息需要大概3-5s，如果不等待的话。用户误点击登录按钮会造成冲突。

- 目的：等待身份验证



# 需求

#### 个人中心--关注/粉丝模块 

##### 场景：”个人中心“页面中点击关注和粉丝时会进入关注和粉丝详情页，当前只有静态前端，需要修改成动态读取。

##### ![image-20201104011558737](E:\WORK\PycharmProject\HaiChuang\docs\【海创】2020-11-03优化点.assets\image-20201104011558737.png)

##### 实现

- 进入页面后向后端请求数据
```json
 url: 'https://haichuanghao.com/api/get_my_fans',
 header:{
     'content-type': 'application/x-www-form-urlencoded'
 },
 method:"POST"
 request:{
     "user_session":this.data.user_session,//用户session
 },
 
 // 返回值
 response:{
     status:"success"
     data:[
     	{
            name:"托塔李天王"
            head_image:""
            uid:"HC_USR_00001"
            tags:["海归","招聘"]
 		},
         {
            name:"托塔李天王"
            head_image:""
            uid:"HC_USR_00001"
            tags:["海归","招聘"]
 		},     	
        .
        .
        .
 	]
 } 
 // sucess表示请求成功，data中有数据。直接展示。
 // status为error表示请求失败。
 //	- 弹窗提示“粉丝内容获取失败，请稍后再试”
 // - 返回上一页面（个人中心页）
```

> 当前后端接口'https://haichuanghao.com/api/get_my_fans'预计于11-04开发完毕，届时可以直接调试使用。

